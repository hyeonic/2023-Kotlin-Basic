# kotlin-blackjack

블랙잭 미션 저장소

## 기능 요구 사항

### 전체 진행

`이름 받기 -> 기본 카드 공개 -> 플레이어 카드 추가 여부 -> 딜러 추가 카드 여부 -> 카드 및 점수 출력 -> 최종 승패 출력`

## View

### 입력

- [ ] 이름 받기
    - [ ] 쉼표 기준으로 받기
    - [ ] `[예외]` 플레이어 이름은 공백이 아니어야한다.

- [ ] 플레이어 카드 추가 여부
    - [ ] y또는 n으로만 입력 받기
    - [ ] y일 경우에는 카드 한장 더 추가 및 추가 여부 물어보기
    - [ ] n일 경우에는 카드 그만 받기
    - [ ] `[예외]` y또는 n 이외의 값이 들어왔을 경우

### 출력

- [ ] 기본 카드 공개
    - [ ] 플레이어와 딜러에게 카드 2장 지급
    - [ ] 플레이어는 카드 2장 출력
    - [ ] 딜러는 1장만 출력

- [ ] 카드 및 점수 결과 출력

- [ ] 최종 승패 출력
    - [ ] 플레이어들의 승패 여부
    - [ ] 딜러의 전적

## Domain

### 끗수 (Denomination)

- [ ] 끗수는 A, 2, 3, 4, 5, 6, 7, 8, 9, 10, J, Q, K로 이루어져 있다.
- [ ] 끗수는 각각 고유한 이름을 가지고 있다.
- [ ] 끗수는 각각 가중치를 가지고 있다.
- [ ] 끗수는 가중치를 조회할 수 있다.
- [ ] 점수 합계를 계산해서 반환한다.
    - [ ] ACE 가 포함될 경우, `ACE의 점수는 1과 11 중 하나를 사용`해서 블랙잭(21점)에 가까운 점수로 반환한다.

### 무늬 (Suit)

- [ ] 무늬는 (스페이드, 하트, 다이아, 클로버) 4가지 종류로 이루어져 있다.
- [ ] 무늬 이름을 조회할 수 있다.

### 카드 (Card)

카드는 (A, 2, 3, 4, 5, 6, 7, 8, 9, 10, J, Q, K) Denomination 과(스페이드, 하트, 다이아, 클로버)라는 suit 를 가진다.
- [ ] 카드 앞자리는 (스페이드, 하트, 다이아, 클로버)라는 suit로 이뤄진다.
- [ ] 카드 뒷자리는 (A, 2, 3, 4, 5, 6, 7, 8, 9, 10, J, Q, K) Denomination 으로만 이뤄진다.
- [ ] 카드의 점수를 조회할 수 있다.
- [ ] Denomination 과 suit 가 모두 조합된 카드 52장을 만든다.
- [ ] `[예외]` 조합된 카드는 유일해야 한다. (Set 활용)

### 카드들 (Cards)

카드 List 를 표현하기 위한 일급 컬렉션이다. 최소 2장을 갖는다.
- [ ] 카드를 받아 List에 추가한다.
- [ ] 카드들의 총점을 계산해서 반환한다.
- [ ] 카드 리스트에 카드를 추가할 수 있다.

### 카드 덱 (Deck)

게임에서 사용되는 카드 52장을 가진 카드 뭉치이다.
- [ ] 카드 52장을 가진다.
- [ ] 카드를 한장 씩 뽑을 수 있다.
- [ ] `[예외]` 덱이 비어있는 경우 에러를 던진다.

### 참가자 (Participant)

블랙잭 게임의 참가자이다.
- [ ] 참가자는 이름을 가질 수 있다.
- [ ] 참가자는 최소 두장의 카드를 가질 수 있다.
- [ ] 가진 카드의 총점을 계산하여 반환한다.
- [ ] 카드 뭉치에 카드를 더할 수 있다.
- [ ] 최초 두장의 카드의 합이 21인 경우 블랙잭이다.
- [ ] 카드의 합이 21을 초과하는 경우 버스트이다.
- [ ] 참가자의 총 점수가 20점 이하인 경우 히트가 가능하다.
- [ ] 참가자의 순수 점수를 비교하여 승패 여부를 반환한다.
- [ ] 참가자의 순수 점수를 비교하여 동일 여부를 반환한다.

### 플레이어 (Player)

참가자를 상속한 게임 플레이어이다. 추가적인 기능으로는 점수를 비교하여 이득을 계산하여 반환한다.
- [ ] 승패를 비교하여 이득을 계산한 뒤 반환한다.

### 딜러(Dealer)

참가자를 상속한 게임의 딜러이다.

- [ ] 딜러라는 이름을 가진다.
- [ ] 딜러의 점수가 16점 이하인 경우 카드를 받을 수 있다.

### 플레이어들 (Players)

- [ ] `[예외]` 1명 이상이어야한다.

### 승패 판단

- [ ] 처음 뽑은 두 장의 카드의 합이 21인 경우 블랙잭이다.
- [ ] 플레이어가 블랙잭이고 딜러가 블랙잭인 경우 `무승부`이다. 플레이어는 배팅 금액을 그대로 돌려 받는다. 즉 수익은 0이다.
- [ ] 플레이어만 블랙잭인 경우 플레이어의 `승`이다. 플레이어는 배팅 금액의 1.5배 만큼 추가로 돌려 받는다. 즉 수익은 `배팅 금액 x 1.5` 이다.
- [ ] 딜러만 버스트인 경우 플레이어의 `승`이다. 플레이어는 금액 만큼 추가로 돌려 받는다. 즉 수익은 `배팅 금액 x 1` 이다.
- [ ] 플레이어가 버스트인 경우 딜러의 상태에 상관없이 플레이어의 `패`이다. 배팅 금액은 돌려 받을 수 없다. 즉 수익은 `배팅 금액 x -1` 이다.
- [ ] 플레이어와 딜러가 블랙잭이 아니고 버스트가 아닌 경우 순수한 점수로 비교한다.
    - [ ] 플레이어가 `승`인 경우 배팅 금액 만큼 추가로 돌려 받는다. 즉 수익은 `배팅 금액 x 1` 이다.
    - [ ] 플레이어가 `패`인 경우 배팅 금액은 돌려 받을 수 없다. 즉 수익은 `배팅 금액 x -1` 이다.
    - [ ] 플레이어와 딜러의 점수가 같은 경우 무승부이다. 플레이어는 배팅 금액을 그대로 돌려 받는다. 즉 수익은 0이다.블랙잭 미션 저장소
